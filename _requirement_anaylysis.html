<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="description" content="この文書は、モデリングツールにastah*を使って、ソフトウェアの開発にUMLを使う方法について学ぶチュートリアルです。">
<meta name="author" content="株式会社チェンジビジョン">
<title>モデルを使ってソフトウェアを開発しよう</title>
<link rel="stylesheet" href="css/mystyle.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="_requirement_anaylysis" class="book toc2 toc-left">
<div id="header">
<h1>モデルを使ってソフトウェアを開発しよう</h1>
<div class="details">
<span id="author" class="author">株式会社チェンジビジョン</span><br>
<span id="revnumber">バージョン html_0166,</span>
<span id="revdate">2022-01-28</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">目次</div>
<p><span class="toc-root"><a href="uml_tutorial.html">モデルを使ってソフトウェアを開発しよう</a></span></p><ul class="sectlevel1">
<li><a href="_preface.html">はじめに</a>
</li>
<li><a href="_copyright.html">注意事項</a>
</li>
<li><a href="_preparation.html">1 準備</a>
</li>
<li><a href="_requirement_anaylysis.html"><span class="toc-current">2 スコアのデータ構造を調べる</span></a>
<ul class="sectlevel2">
<li><a href="_requirement_anaylysis.html#_スコアシートの構造をオブジェクト図で表す">2.1 スコアシートの構造をオブジェクト図で表す</a>
</li>
<li><a href="_requirement_anaylysis.html#_スコアシートの構造をクラス図で表す">2.2 スコアシートの構造をクラス図で表す</a>
</li>
</ul>
</li>
<li><a href="_スコアの状態を調べる.html">3 スコアの状態を調べる</a>
</li>
<li><a href="_structure_design.html">4 スコアの構造を図にする</a>
</li>
<li><a href="_behavier_design.html">5 スコア記録の振る舞いを図にする</a>
</li>
<li><a href="_summary.html">6 まとめ</a>
</li>
<li><a href="_other_diagrams.html">7 他の図、他の機能など</a>
</li>
<li><a href="_appendix-01.html">付録 A: 関連資料、ワークシート等</a>
</li>
<li><a href="_glossary.html">用語集</a>
</li>
<li><a href="_bibliography.html">参考文献</a>
</li>
<li><a href="_colophon.html">奥付</a>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_requirement_anaylysis"><a class="anchor" href="#_requirement_anaylysis"></a>2 スコアのデータ構造を調べる</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>ボウリングスコアはどのような構造になっているでしょうか。
また、スコアをつける手順に従うとき、スコアにはどのような状態があるのでしょうか。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="注記"></i>
</td>
<td class="content">
<div class="paragraph">
<p>このチュートリアルでは、クラッシックスコアリング <a href="#classic_scoring">[classic_scoring]</a> の場合について考えることにします。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_スコアシートの構造をオブジェクト図で表す"><a class="anchor" href="#_スコアシートの構造をオブジェクト図で表す"></a>2.1 スコアシートの構造をオブジェクト図で表す</h3>
<div class="paragraph">
<p>スコアシートの例を参照しながら、スコアシートの構造を検討しましょう。</p>
</div>
<div class="sect3">
<h4 id="_スコアシートの例"><a class="anchor" href="#_スコアシートの例"></a>2.1.1 スコアシートの例</h4>
<div class="paragraph">
<p>ゲーム中のスコアシートの例を <a href="_requirement_anaylysis.html#scoresheet01">図 2.1</a> に示します。
この例では、1ゲームを2人でプレイしていて、1人目の6フレーム目の第1投目までゲームが進んでいます。
彼らは1フレームずつ交代で投球していることがわかります。
また、彼らがもう1ゲーム分プレイする場合には、このスコアの下にもう一度2人のスコアが追加されるでしょう。</p>
</div>
<div id="scoresheet01" class="imageblock">
<div class="content">
<img src="images/220128-0001_2.png" alt="220128 0001 2" width="100%">
</div>
<div class="title">図 2.1 スコアシートの例</div>
</div>
<div class="paragraph">
<p>スコアシートを観察してわかることを「 <a href="_requirement_anaylysis.html#scoresheet02">スコアシートを観察してわかること</a> 」にまとめました。</p>
</div>
<div id="scoresheet02" class="ulist">
<div class="title">スコアシートを観察してわかること</div>
<ul>
<li>
<p>プレーヤー名とその人の10フレーム分の投球が記録の単位になっている（これをゲームと呼ぶことにする）。</p>
</li>
<li>
<p>シートには複数のゲームが記録されている。</p>
</li>
<li>
<p>シート上には、複数のプレーヤーのゲームが記録されている。</p>
</li>
<li>
<p>（おそらく）各人が複数回ゲームを実施する。</p>
</li>
<li>
<p>（おそらく）ひとつのゲームの進行中は、複数名で順番に投球して進行する（適当な呼称がないのでゲームセットと呼ぶ）。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>「 <a href="_requirement_anaylysis.html#scoresheet02">スコアシートを観察してわかること</a> 」にまとめたことを元に、スコアシートの構成要素と構成要素同士の関係をモデル図で表してみましょう。</p>
</div>
</div>
<div class="sect3">
<h4 id="_プロジェクトに設計モデルを追加する"><a class="anchor" href="#_プロジェクトに設計モデルを追加する"></a>2.1.2 プロジェクトに設計モデルを追加する</h4>
<div class="paragraph">
<p>まず、プロジェクトに設計モデルを追加しましょう。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="ヒント"></i>
</td>
<td class="content">
<div class="paragraph">
<p>ここでいう設計とは、対象とする業務やサービスに必要となる構成要素を洗い出すことと、それらを使った振舞いを検討することだと考えておけばよいでしょう。</p>
</div>
</td>
</tr>
</table>
</div>
<div id="add_design_model" class="olist arabic">
<div class="title">プロジェクトに設計モデルを追加する</div>
<ol class="arabic">
<li>
<p>プロジェクトにモデルを追加する。</p>
<div class="ulist">
<ul>
<li>
<p>構造ツリー上で、プロジェクトを選択する。</p>
</li>
<li>
<p>右クリックしてポップアップメニューを開き、「モデルの追加＞モデル」を選択する（ <a href="_requirement_anaylysis.html#add_design_model01">図 2.2</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="add_design_model01" class="imageblock">
<div class="content">
<img src="images/GSW-20220127-235554.png" alt="GSW 20220127 235554" width="50%">
</div>
<div class="title">図 2.2 プロジェクトにモデルを追加した</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>追加したモデルに名前をつける。</p>
<div class="ulist">
<ul>
<li>
<p>構造ツリー上で、追加したモデルを選択した状態で、プロパティの「ベース」タブを選択する。</p>
</li>
<li>
<p>「名前」を編集して「設計モデル」とする（ <a href="_requirement_anaylysis.html#add_design_model02">図 2.3</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="add_design_model02" class="imageblock">
<div class="content">
<img src="images/GSW-20220127-235739.png" alt="GSW 20220127 235739" width="50%">
</div>
<div class="title">図 2.3 モデルに設計用のモデルとして名前をつけた</div>
</div>
</div>
<div class="sect3">
<h4 id="_設計モデルにオブジェクト図を追加する"><a class="anchor" href="#_設計モデルにオブジェクト図を追加する"></a>2.1.3 設計モデルにオブジェクト図を追加する</h4>
<div class="paragraph">
<p>ゲームスコアのオブジェクトが作られていく様子は、「オブジェクト図（インスタンス図と呼ぶこともあります）」を使って表してみましょう。
astah* で「オブジェクト図」を作成するときは「クラス図」を使います。
設計モデルにクラス図を追加します。</p>
</div>
<div class="openblock">
<div class="title">ゲームスコアのオブジェクト図を追加する</div>
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>モデルにクラス図を追加する（ <a href="_requirement_anaylysis.html#object00">図 2.4</a> ）。</p>
</li>
</ol>
</div>
<div id="object00" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-001441.png" alt="GSW 20220128 001441" width="50%">
</div>
<div class="title">図 2.4 モデルにクラス図を追加する</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>追加した図を「ゲームスコアのオブジェクト図」とする（  <a href="_requirement_anaylysis.html#object01">図 2.5</a> ）。</p>
</li>
</ol>
</div>
<div id="object01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-001723.png" alt="GSW 20220128 001723" width="50%">
</div>
<div class="title">図 2.5 「ゲームスコアのオブジェクト図」を追加する</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_オブジェクト図にスコアシートを追加する"><a class="anchor" href="#_オブジェクト図にスコアシートを追加する"></a>2.1.4 オブジェクト図にスコアシートを追加する</h4>
<div class="paragraph">
<p><a href="_requirement_anaylysis.html#scoresheet01">図 2.1</a> や「 <a href="_requirement_anaylysis.html#scoresheet02">スコアシートを観察してわかること</a> 」を参照しながら、スコアシートの具体的な要素をオブジェクト図に追加してみましょう。</p>
</div>
<div class="paragraph">
<p>まず、「スコアシート」オブジェクトを追加します。</p>
</div>
<div id="add_scoresheet01" class="olist arabic">
<div class="title">スコアシートを表すオブジェクトを追加する</div>
<ol class="arabic">
<li>
<p>パレットから「インスタンス仕様」を選択して、図に配置する（ <a href="#add_innstance01">[add_innstance01]</a> ）。</p>
</li>
</ol>
</div>
<div id="add_instance01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-021835.png" alt="GSW 20220128 021835" width="50%">
</div>
<div class="title">図 2.6 インスタンス仕様を追加する</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>名前が「インスタンス仕様0」（数字は作るたびに変わる）となっている。これを、具体的なスコアシートを表す名前に変える。ここでは「scoresheet01」とする（ <a href="_requirement_anaylysis.html#obj_scoresheet01">名前を「scoresheet01」に変更する</a> ）。</p>
<div class="ulist">
<ul>
<li>
<p>この名前は、あるスコアシートを指すためのオブジェクト図上での識別子。</p>
</li>
<li>
<p>名前を変更するには、文字列を直接クリックして編集してもよいし、オブジェクトを選択した状態でプロパティから編集してもよい。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="obj_scoresheet01" class="openblock">
<div class="title">名前を「scoresheet01」に変更する</div>
<div class="content">
<div class="imageblock">
<div class="content">
<img src="images/GSW-20220128-023458.png" alt="GSW 20220128 023458" width="50%">
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>このオブジェクトを、スコアシートを表す「ScoreSheet」クラスのオブジェクトとするためにクラス「ScoreSheet」を追加する。</p>
<div class="ulist">
<ul>
<li>
<p>オブジェクト「scoresheet01」を選択した状態で、プロパティから「新規作成」ボタンを
クリックする（ <a href="_requirement_anaylysis.html#class_def_dialog00">図 2.7</a> ）。</p>
</li>
<li>
<p>クラスを定義するダイアログが表示されるので、クラスの名前を「ScoreSheet」にして「閉じる」をクリックする（ <a href="_requirement_anaylysis.html#class_def_dialog01">図 2.8</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="class_def_dialog00" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-040656.png" alt="GSW 20220128 040656" width="50%">
</div>
<div class="title">図 2.7 オブジェクトを選択してクラスを追加する</div>
</div>
<div id="class_def_dialog01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-041151.png" alt="GSW 20220128 041151" width="50%">
</div>
<div class="title">図 2.8 クラス「ScoreSheet」を定義する</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>オブジェクトの表示も「scoresheet01 : ScoreSheet」に変わる（ <a href="_requirement_anaylysis.html#instance03">図 2.9</a> ）。</p>
</li>
</ol>
</div>
<div id="instance03" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-041457.png" alt="GSW 20220128 041457" width="25%">
</div>
<div class="title">図 2.9 クラスを追加した結果「scoreseet01」が「scoresheet01:ScoreSheet」に変わった</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_オブジェクト図にゲームを追加する"><a class="anchor" href="#_オブジェクト図にゲームを追加する"></a>2.1.5 オブジェクト図にゲームを追加する</h4>
<div class="paragraph">
<p>次に、「スコアシート」を追加したのと同じ手順で「ゲーム」オブジェクトを追加します。
オブジェクト名を「game01」、クラス名を「Game」としましょう。
また、ゲームを複数回プレイすることを考えて、ゲームの番号を保持するようにしてみましょう。</p>
</div>
<div id="add_game00" class="olist arabic">
<div class="title">ゲームを表すオブジェクトを追加する</div>
<ol class="arabic">
<li>
<p>パレットから「インスタンス仕様」を選択して図に配置して「game01」とし、クラスを「Game」とする（ <a href="_requirement_anaylysis.html#add_game01">図 2.10</a> ）。</p>
</li>
</ol>
</div>
<div id="add_game01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-051333.png" alt="GSW 20220128 051333" width="25%">
</div>
<div class="title">図 2.10 ゲームを表すオブジェクト「game01」とクラス「Game」を追加する。</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>「Game」クラスの属性に「number」を追加する（ <a href="_requirement_anaylysis.html#add_attr01">図 2.11</a> ）。</p>
<div class="ulist">
<ul>
<li>
<p>「属性」タブを開く。</p>
</li>
<li>
<p>「＋」ボタンで属性を追加し、属性名に「number」とする。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="add_attr01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-044458.png" alt="GSW 20220128 044458" width="50%">
</div>
<div class="title">図 2.11 ゲームを表すオブジェクトを追加する</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>属性を追加したオブジェクト「game01」は <a href="_requirement_anaylysis.html#add_attr02">図 2.12</a> のように変わる。</p>
<div class="ulist">
<ul>
<li>
<p>属性は追加されているが、オブジェクト固有の属性値はまだ設定されていない。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="add_attr02" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-045336.png" alt="GSW 20220128 045336" width="25%">
</div>
<div class="title">図 2.12 属性を追加した後のオブジェクト「game01」</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>オブジェクト「game01」を選択すると、プロパティはオブジェクト「game01」の属性値（スロットと呼ぶ）を編集する表示に変わる。</p>
</li>
<li>
<p><a href="_requirement_anaylysis.html#scoresheet01">図 2.1</a> の場合、1ゲーム目なので、属性値にゲームの番号「1」を設定する（ <a href="_requirement_anaylysis.html#add_attr03">図 2.13</a> ）。</p>
<div class="ulist">
<ul>
<li>
<p>プロパティを編集すると、オブジェクトの表示も更新される（ <a href="_requirement_anaylysis.html#add_attr04">図 2.14</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="add_attr03" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-050331.png" alt="GSW 20220128 050331" width="50%">
</div>
<div class="title">図 2.13 プロパティから属性値を設定する</div>
</div>
<div id="add_attr04" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-050303.png" alt="GSW 20220128 050303" width="25%">
</div>
<div class="title">図 2.14 属性値が設定されたオブジェクト「game01」</div>
</div>
</div>
<div class="sect3">
<h4 id="_オブジェクト図にプレーヤーを追加する"><a class="anchor" href="#_オブジェクト図にプレーヤーを追加する"></a>2.1.6 オブジェクト図にプレーヤーを追加する</h4>
<div class="paragraph">
<p>ゲームを追加したのと同じ手順で、プレーヤーを追加しましょう。
<a href="_requirement_anaylysis.html#scoresheet01">図 2.1</a> の場合、プレーヤーとして「くぼあき」さんと「うえはら」さんがいますので、オブジェクトは2つ追加します。
属性値にはそれぞれのプレーヤーの名前を設定します。</p>
</div>
<div id="add_player00" class="olist arabic">
<div class="title">プレーヤー 「くぼあき」を表すオブジェクトを追加する</div>
<ol class="arabic">
<li>
<p>パレットから「インスタンス仕様」を選択して図に配置して「player01」とし、クラスを「Player」とする。</p>
</li>
<li>
<p>「Player」クラスの属性に「name」を追加し、属性値を「くぼあき」とする（ <a href="_requirement_anaylysis.html#add_player01">図 2.15</a> ）。</p>
</li>
</ol>
</div>
<div id="add_player01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-053244.png" alt="GSW 20220128 053244" width="25%">
</div>
<div class="title">図 2.15 プレーヤー「くぼあき」を表すオブジェクト「player01」を追加した</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>同様にして、プレーヤー「うえはら」を表すオブジェクトを追加する（ <a href="_requirement_anaylysis.html#add_player02">図 2.16</a> ）。</p>
<div class="ulist">
<ul>
<li>
<p>既存のクラス「Player」を選ぶときは、プロパティの「ベースクラス」のプルダウンメニューから選択する（ <a href="_requirement_anaylysis.html#add_player03">図 2.17</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="add_player02" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-053911.png" alt="GSW 20220128 053911" width="25%">
</div>
<div class="title">図 2.16 プレーヤー「うえはら」を表すオブジェクト「player02」を追加した</div>
</div>
<div id="add_player03" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-053253.png" alt="GSW 20220128 053253" width="50%">
</div>
<div class="title">図 2.17 既存のクラスから「Player」クラスを選択する</div>
</div>
</div>
<div class="sect3">
<h4 id="_オブジェクト図にスコアを追加する"><a class="anchor" href="#_オブジェクト図にスコアを追加する"></a>2.1.7 オブジェクト図にスコアを追加する</h4>
<div class="paragraph">
<p>こんどは、それぞれのプレーヤーのスコアを記録している部分を追加しましょう。
<a href="_requirement_anaylysis.html#scoresheet01">図 2.1</a> の場合、「くぼあき」さんと「うえはら」さんのスコアがありますので、オブジェクトは2つ追加します。</p>
</div>
<div id="add_screr00" class="olist arabic">
<div class="title">それぞれのプレーヤーのスコアを表すオブジェクトを追加する</div>
<ol class="arabic">
<li>
<p>パレットから「インスタンス仕様」を選択して図に配置して「score01」とし、クラスを「Score」とする。</p>
</li>
<li>
<p>もうひとつ追加して「score02」とする（ <a href="_requirement_anaylysis.html#add_score01">図 2.18</a> ）。</p>
</li>
</ol>
</div>
<div id="add_score01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-060324.png" alt="GSW 20220128 060324" width="25%">
</div>
<div class="title">図 2.18 スコアを表すオブジェクト「score01」「sore02」を追加した</div>
</div>
</div>
<div class="sect3">
<h4 id="_オブジェクトのつながりを整理する"><a class="anchor" href="#_オブジェクトのつながりを整理する"></a>2.1.8 オブジェクトのつながりを整理する</h4>
<div class="paragraph">
<p>オブジェクト図に、スコアシート、ゲーム、スコア、プレーヤーのオブジェクトを追加しました。
これらはの間にはどのようなつながりがあるか考えてみましょう。</p>
</div>
<div class="ulist">
<div class="title">オブジェクト同士のつながりを考える</div>
<ul>
<li>
<p>ワークシートは複数のゲームを記録できますので、ワークシートとゲームにはつながりがありそうです。</p>
</li>
<li>
<p>ゲームでは、複数のプレーヤーのスコアを記録するので、ゲームとスコアにはつながりがありそうです。</p>
</li>
<li>
<p>スコアはプレーヤーごとに記録するので、スコアとプレーヤーにはつながりがありそうです。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>オブジェクトの間のつながりを表すには「リンク」を引きます。
つながりがありそうなオブジェクト同士にリンクを引いてみましょう。</p>
</div>
<div class="paragraph">
<p>まず、スコアシートとゲームの間にリンクを引きましょう。</p>
</div>
<div id="add_link00" class="olist arabic">
<div class="title">「scoresheet01」から「game01」へリンクを引く</div>
<ol class="arabic">
<li>
<p>パレットから「リンク」を選択して、「scoresheet01」の内部へマウスカーソルを移動し、青枠が表示されるのを待つ（ <a href="_requirement_anaylysis.html#add_link01">図 2.19</a> ）。</p>
</li>
<li>
<p>青枠が表示されたら、マウスのボタンを押したまま「game01」の内部へマウスカーソルを移動する（ <a href="_requirement_anaylysis.html#add_link02">図 2.20</a> ）。</p>
</li>
<li>
<p>「game01」にも青枠が表示されたら、マウスのボタンを離すとリンクが引かれる（ <a href="_requirement_anaylysis.html#add_link03">図 2.21</a> ）。</p>
</li>
</ol>
</div>
<div id="add_link01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-062909.png" alt="GSW 20220128 062909" width="50%">
</div>
<div class="title">図 2.19 パレットからリンクを選択し、「scoresheet01」の内部へマウスカーソルを移動する</div>
</div>
<div id="add_link02" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-062951.png" alt="GSW 20220128 062951" width="50%">
</div>
<div class="title">図 2.20 青枠が表示された状態でマウスのボタンを押し、「game01」へマウスカーソルをドラッグする</div>
</div>
<div id="add_link03" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-064800.png" alt="GSW 20220128 064800" width="50%">
</div>
<div class="title">図 2.21 「game01」にも青枠が表示されたら、マウスのボタンを離すとリンクが引かれる</div>
</div>
<div class="paragraph">
<p>同様に、「game01」から「score01」、「score02」へリンクを引きます。
また、「score01」から「player01」へ、「score02」から「player02」へもリンクを引きます（ <a href="_requirement_anaylysis.html#add_link04">図 2.22</a> ）。</p>
</div>
<div id="add_link04" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-065923.png" alt="GSW 20220128 065923" width="50%">
</div>
<div class="title">図 2.22 残りのつながりについてリンクを引く</div>
</div>
<div class="paragraph">
<p>もし、彼らがもう1ゲームやるとしたら、オブジェクト図は、 <a href="_requirement_anaylysis.html#add_link05">図 2.23</a> のようになるでしょう。</p>
</div>
<div id="add_link05" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-083544.png" alt="GSW 20220128 083544" width="50%">
</div>
<div class="title">図 2.23 2ゲームやった場合のオブジェクト図</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_スコアシートの構造をクラス図で表す"><a class="anchor" href="#_スコアシートの構造をクラス図で表す"></a>2.2 スコアシートの構造をクラス図で表す</h3>
<div class="paragraph">
<p>作成したオブジェクト図 <a href="_requirement_anaylysis.html#add_link05">図 2.23</a> を元に、ゲームスコアのクラス図を作成してみましょう。</p>
</div>
<div class="sect3">
<h4 id="_スコアシートのクラス図を追加する"><a class="anchor" href="#_スコアシートのクラス図を追加する"></a>2.2.1 スコアシートのクラス図を追加する</h4>
<div class="paragraph">
<p>まず、「ゲームスコアのクラス図」を追加します。</p>
</div>
<div id="class00" class="ulist">
<div class="title">ゲームスコアのクラス図を追加する</div>
<ul>
<li>
<p>構造ツリーで、「設計モデル」でポップアップメニューを開き、「図の追加＞クラス図」でモデルにクラス図を追加する（ <a href="_requirement_anaylysis.html#class01">図 2.24</a> ）。</p>
</li>
</ul>
</div>
<div id="class01" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-085606.png" alt="GSW 20220128 085606" width="50%">
</div>
<div class="title">図 2.24 モデルにクラス図を追加する</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>追加した図を「ゲームスコアのクラス図」とする（ <a href="_requirement_anaylysis.html#class02">図 2.25</a> ）。</p>
</li>
</ol>
</div>
<div id="class02" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-085952.png" alt="GSW 20220128 085952" width="50%">
</div>
<div class="title">図 2.25 追加した図を「ゲームスコアのクラス図」とした</div>
</div>
</div>
<div class="sect3">
<h4 id="_クラス図にクラスを追加する"><a class="anchor" href="#_クラス図にクラスを追加する"></a>2.2.2 クラス図にクラスを追加する</h4>
<div class="paragraph">
<p>「構造ツリー」をみると、オブジェクト図を作成したとき登録した「ScoreSheet」クラスや「Game」クラスなどが見つかります。
これらを1つずつドラッグ＆ドロップして、クラス図に追加します（ <a href="_requirement_anaylysis.html#class03">図 2.26</a>  ）。</p>
</div>
<div id="class03" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-090729.png" alt="GSW 20220128 090729" width="100%">
</div>
<div class="title">図 2.26 構造ツリーに登録されているクラスをクラス図に追加する</div>
</div>
</div>
<div class="sect3">
<h4 id="_クラス間の関連を追加する１"><a class="anchor" href="#_クラス間の関連を追加する１"></a>2.2.3 クラス間の関連を追加する（１）</h4>
<div class="paragraph">
<p>前に作成したオブジェクト図（ <a href="_requirement_anaylysis.html#add_link05">図 2.23</a> ）に記載されているリンクを元に、クラス間に関連を引きます。
まず、「ScoreSheet」クラスから「Game」クラスへ向かって関連を引きましょう。</p>
</div>
<div id="add_relation00" class="olist arabic">
<div class="title">クラス間の関連を追加する</div>
<ol class="arabic">
<li>
<p>パレットから、矢印付きの関連を選択し、「ScoreSheet」クラスから「Game」クラスへ向かって関連を引く（ <a href="_requirement_anaylysis.html#class04">図 2.27</a> ）。</p>
</li>
</ol>
</div>
<div id="class04" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-091317.png" alt="GSW 20220128 091317" width="50%">
</div>
<div class="title">図 2.27 「ScoreSheet」クラスから「Game」クラスへ関連を引いた</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>スコアシートには複数のゲームを記録できるので、多重度を設定する。</p>
<div class="ulist">
<ul>
<li>
<p><a href="_requirement_anaylysis.html#class04">図 2.27</a> で引いた関連を選択した状態で、プロパティからターゲットが「Game」の関連端のタブを開く。</p>
</li>
<li>
<p>「多重度」を「0..*」に設定する（ <a href="_requirement_anaylysis.html#class05">図 2.28</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="class05" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-094728.png" alt="GSW 20220128 094728" width="75%">
</div>
<div class="title">図 2.28 「ScoreSheet」からみた「Game」の多重度を「 0..* 」に設定した</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>スコアシートからみたゲームを指す関連端名を設定する。</p>
<div class="ulist">
<ul>
<li>
<p><a href="_requirement_anaylysis.html#class04">図 2.27</a> で引いた関連を選択した状態で、プロパティからターゲットが「Game」の関連端のタブを開く。</p>
</li>
<li>
<p>「名前」を「games」に設定する（ <a href="_requirement_anaylysis.html#class06">図 2.29</a> ）。</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="class06" class="imageblock">
<div class="content">
<img src="images/GSW-20220128-101440.png" alt="GSW 20220128 101440" width="75%">
</div>
<div class="title">図 2.29 「ScoreSheet」からみた「Game」の関連端名を「games」に設定した</div>
</div>
</div>
<div class="sect3">
<h4 id="_クラス間の関連を追加する１_2"><a class="anchor" href="#_クラス間の関連を追加する１_2"></a>2.2.4 クラス間の関連を追加する（１）</h4>
<div class="paragraph">
<p>「head」と同様、「current」についても関連を引く（ 図 3.39 ）。</p>
</div>
<div class="paragraph">
<p>パレットから、矢印付きの関連を選択し、「 GameScore 」クラスから「 Frame 」クラスへ向かって関連を引き、関連端名をつける。</p>
</div>
<div class="paragraph">
<p>「 GameScore 」クラスからみると、まだ1投もしていないときはフレームがなく、1投して以降はフレームが複数ある。つまり、現在のフレームを指す関連のインスタンス（リンク）は、「ない」か「1つある」かのいずれかになる。この事情に見合うよう、関連の多重度を設定する。</p>
</div>
<div class="paragraph">
<p>class06
図 3.39 現在のフレームを指す関連「current」を引き、関連端名と多重度を設定した
3.2.4 クラス間の関連を追加する（２）
次に、フレーム同士の間に引かれていた「next」「prev」というリンクを関連として引きましょう。 もとのリンクは「 Frame 」クラスのインスタンスから、同じ「 Frame 」クラスのインスタンスへと引かれていました。 このようなリンクを関連に反映するときは、自クラスへつながる関連（自分から自分へ向かう関連）として表します。 また、先頭と末尾のフレームは、「nil」とつながっていました。 このようなリンクを反映するときは、つながっていない関連があるとみなします。つながっていない場合があるときは、関連の多重度に「 0 」の場合を含めます。結果として、この部分の多重度は「 0..1 」となります。</p>
</div>
<div class="paragraph">
<p>フレームからフレームへの関連を引く
「Frame 」クラスから「 Frame 」クラスへ向かって関連を引く。</p>
</div>
<div class="paragraph">
<p>パレットから矢印付きの関連を選択する。</p>
</div>
<div class="paragraph">
<p>「Frame 」クラス上でマウスをクリックして、一度カーソルをクラスから外へ出してクリックし、再び「Frame 」クラス上にカーソルを戻してクリックする（ 図 3.40 ）。</p>
</div>
<div class="paragraph">
<p>自分自身へ向かう関連が引けるので、関連の線を整える（ 図 3.41 ）。</p>
</div>
<div class="paragraph">
<p>class08
図 3.40 マウスをクラスの上でクリックし、クラスの外でクリックし、再びクラスの上でクリックする
class10
図 3.41 自分自身へ向かう関連が引けたら、関連の線を調整する
関連端名と多重度を設定する</p>
</div>
<div class="paragraph">
<p>関連端名に「prev」、多重度に「 0..1 」設定する（ 図 3.42 ）。</p>
</div>
<div class="paragraph">
<p>class11
図 3.42 関連端名と多重度を設定した
「next」についても関連端名と多重度を設定する（ 図 3.43）。</p>
</div>
<div class="paragraph">
<p>自分自身へ向かう関連を追加する。</p>
</div>
<div class="paragraph">
<p>関連端名を「next」、多重度を「 0..1 」とした。</p>
</div>
<div class="paragraph">
<p>class12
図 3.43 「next」についての関連を追加した
関連「next」と「prev」は、ひとつの双方向の関連として描くこともできます。このときは、ひとつの双方向関連の両端の関連端名を「next」と「prev」とします（ 図 3.44 ）。</p>
</div>
<div class="paragraph">
<p>class13
図 3.44 関連「next」と「prev」をひとつの双方向関連で表した場合</p>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>← Previous: <a href="_preparation.html">1</a> | ↑ Up: <a href="uml_tutorial.html">モデルを使ってソフトウェアを開発しよう</a> | Next: <a href="_スコアの状態を調べる.html">3</a> →</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
バージョン html_0166<br>
最終更新 2022-01-17 06:53:14 +0900
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>